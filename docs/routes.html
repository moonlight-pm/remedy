<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>remedy: documentation</title>
    <link rel="icon" type="image/png" href="assets/cross-both.png">
<link rel="stylesheet" href="_fontawesome.css"><link rel="stylesheet" href="_tailwind.css"></head>

<body class="flex flex-col bg-gray-50 text-black">
    <header class="flex justify-between items-center gap-4 bg-red-700 px-4 py-2 text-white">
        <a class="flex items-center gap-3" href="index.html">
            <img src="assets/cross-dark.png" class="h-6 w-6">
            <div class="text-2xl">remedy</div>
        </a>
        <a href="https://github.com/niarada/remedy">
            <i class="text-2xl fa-brands fa-github"></i>
        </a>
    </header>
    <main class="flex mt-6 px-4" hx-boost="article">
        <nav class="w-48">
            <ul class="flex flex-col gap-1 cursor-pointer">
                <li class="">
                    <a href="index.html">Introduction</a>
                </li><li class="">
                    <a href="partials.html">Partials</a>
                </li><li class="font-bold">
                    <a href="routes.html">Routes</a>
                </li><li class="">
                    <a href="context.html">Context</a>
                </li><li class="">
                    <a href="integrations.html">Integrations</a>
                </li><li class="">
                    <a href="markdown.html">Markdown</a>
                </li><li class="">
                    <a href="options.html">Options</a>
                </li><li class="">
                    <a href="editorsupport.html">Editor Support</a>
                </li><li class="">
                    <a href="roadmap.html">Roadmap</a>
                </li>
            </ul>
        </nav>
        <article class="prose w-full">
            <h1>Routes</h1>
<p>Routing in <strong>remedy</strong> is file based.  Every partial that is not a layout (i.e. an index) generates a tag and <em>a routable path.</em></p>
<p>Consider this directory structure, and the tags it generates:</p>
<pre><code>Path                        Tag
------------------------    --------------------
public/
    index.part              (root-layout)
    alpha.part              alpha
    alpha/
        index.part          (alpha-layout)
        one.part            alpha-one
        nu/
            zeta.part       alpha-nu-zeta
</code></pre>
<p>The directory structure also determines layout composition.  Each directory can specify an <code>index.part</code> that will be used as the layout at that level.  Layouts nest.  Notice that partials at the same level, and with the same name as a directory, are laid out under that directory.</p>
<p>The above structure sets up the following routes, and their layout composition:</p>
<pre><code>Route                   Composition
--------------------    ------------------------------------
/                       (root-layout) -&gt; (no content)
/alpha                  (root-layout) -&gt; (alpha-layout) -&gt; alpha
/alpha/one              (root-layout) -&gt; (alpha-layout) -&gt; alpha-one
/alpha/nu/zeta          (root-layout) -&gt; (alpha-layout) -&gt; alpha-nu-zeta
</code></pre>
<p>As the root index is a layout, and not a page, the way you would get content such as the home page into it is by using a slot with a default.</p>
<pre><code>/**
 * public/index.part
 */

 &lt;div&gt;
    &lt;slot&gt;&lt;my-home /&gt;&lt;/slot&gt;
 &lt;/div&gt;
</code></pre>
<p>Loading any other route will slot the appropriate content for that page.  For example, loading <code>/alpha</code> will place <code>&lt;alpha /&gt;</code> as the slot content for the index.</p>
<h2>Endpoints</h2>
<p>Most partials are accessible from an HTTP client by their route.  The only exceptions are layouts other than the root layout.</p>
<p>For example:</p>
<p><code>public/hello/world.part</code> is accessible vi <code>GET /hello/world</code> (or POST, PATCH, etc);</p>
<p>If you pass a query string, or post a form, that data will be available in a special object called <code>$context.form</code></p>
<p>(For more on the <code>$context</code> object, see <a href="context.html">Context</a>)</p>
<h2>Dynamic Routes</h2>
<p>Dynamic routes are made possible by naming any directory or partial with brackets.</p>
<p>Some examples:</p>
<ul>
<li><code>public/user/[id].part</code></li>
<li><code>public/user/[id]/edit.part</code></li>
</ul>
<p>If no specifically named route exists, the url will be matched against any dynamic routes and find the first one that applies.</p>
<p>Within your partial, the variable will be made available as an attribute.</p>

            <footer class="mt-8 flex justify-between border-t border-t-slate-500 pt-4 pb-10">
                <div>
                    <a href="partials.html">← Partials</a>
                </div>
                <div>
                    <a href="context.html">Context →</a>
                </div>
            </footer>
        </article>
    </main>
</body>

</html>
